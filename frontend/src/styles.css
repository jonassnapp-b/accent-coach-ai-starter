@import "tailwindcss";

/* === Register Nocturne Serif (Extra-Bold 800) === */
@font-face{
  font-family: 'Nocturne Serif';
  src: url('/fonts/nocturne-serif-extrabold.woff2') format('woff2');
  font-weight: 800;
  font-style: normal;
  font-display: swap;
}

/* === Global app font: iOS-like (SF Pro via system font stack) === */
html {
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text",
    system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

body {
  margin: 0;
  font-family: inherit;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ensure form controls also use it */
button, input, select, textarea { font-family: inherit; }

.font-brand { font-family: inherit; letter-spacing: .2px; }
.page-title { font-family: inherit; letter-spacing: -.2px; }

/* =========================================================
   ✅ LIGHT-ONLY THEME TOKENS (dark mode removed)
   ========================================================= */
:root {
  /* core */
  --bg: #ECF4FF;
  --text: rgba(17,24,39,0.92);
  --muted: rgba(17,24,39,0.60);

  /* surfaces */
  --panel-bg: #ffffff;
  --panel-text: rgba(17,24,39,0.92);
  --panel-border: rgba(0,0,0,0.10);

  /* tabbar */
  --tabbar-bg: #ffffff;
  --tabbar-border: rgba(0,0,0,0.10);

  /* layout */
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --page-gutter-top: 20px;
  --page-gutter-x: 16px;

  /* brand */
  --primary:#2196F3;
  --accent:#FF9800;
  --heading: #2196F3;
  --ring: rgba(33,150,243,0.25);

  /* shadows */
  --btn-shadow: 0 6px 14px rgba(0,0,0,.10);
  --btn-shadow-active: 0 3px 8px rgba(0,0,0,.12);
}

*, *::before, *::after { box-sizing: border-box; }

/* Fill screen above tab bar */
html, body, #root {
  height: 100%;
  background: var(--bg) !important;
  color: var(--text) !important;

  width: 100%;
  overflow-x: hidden; /* ✅ kill horizontal pan */
}


/* ✅ Kill any “dark bottom gradient” coming from pages/components */
body::before,
body::after,
#root::before,
#root::after {
  content: none !important;
}

/* ======= LAYOUT ======= */
.app-shell {
  max-width: 820px;
  margin: 0 auto;
  padding: 24px 16px 0;

  background: var(--bg) !important;

  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.content { flex: 1; }

/* Panels */
.panel {
  background: var(--panel-bg);
  color: var(--panel-text);
  border: 1px solid var(--panel-border);
  border-radius: 18px;
  padding: 16px;
  box-shadow: 0 8px 18px rgba(0,0,0,0.08);
}

.field { display: grid; gap: 6px; margin: 12px 0; max-width: 360px; }
.label { font-weight: 800; color: var(--text); }

/* ===== Buttons ===== */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: .5rem;
  border-radius: 9999px;
  padding: 0.75rem 1.25rem;

  border: 1px solid var(--panel-border);
  background: #F2F2F7;
  color: var(--panel-text);

  box-shadow: var(--btn-shadow);
  transition: transform .08s ease, filter .08s ease, box-shadow .12s ease, background .12s ease;
  -webkit-tap-highlight-color: transparent;
  text-decoration: none;
  cursor: pointer;
  font-weight: 800;
}

.btn:disabled { opacity: .55; cursor: not-allowed; }
.btn:active { transform: translateY(1px) scale(0.98); filter: brightness(.98); box-shadow: var(--btn-shadow-active); }

.btn-sm { padding: 0.5rem 0.75rem; border-radius: 12px; }

.btn-ghost {
  background: #F2F2F7;
  border: 1px solid var(--panel-border);
  color: var(--panel-text);
}
.btn-ghost:hover { filter: brightness(0.98); }

/* ✅ outline button (Bookmarks = white + gray border) */
.btn-outline{
  background: #FFFFFF !important;
  border: 1px solid rgba(0,0,0,0.12) !important;
  color: rgba(17,24,39,0.92) !important;
  box-shadow: 0 6px 14px rgba(0,0,0,0.08);
}
.btn-outline:hover{ filter: brightness(0.99); }

/* ✅ Force primary button solid blue (no gradient) */
.btn-primary{
  background: var(--primary) !important;
  background-image: none !important;
  border: none !important;
  color:#fff !important;
  font-weight: 800;
  border-radius: 999px;
  box-shadow: 0 10px 20px rgba(33,150,243,0.22);
}
.btn-primary:active{ transform: translateY(1px) scale(.99); }
.btn-primary:disabled{ opacity:.6; box-shadow:none; }

/* Headers */
.page-title, .page h1, .page h2 { color: var(--heading); }

/* Errors */
.error { margin-top: 8px; color: #e5484d; }

/* Chips */
.phoneme-row { display: flex; gap: 8px; flex-wrap: wrap; margin-top: 8px; }
.phoneme-chip{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  height:42px;
  padding:0 16px;
  border-radius:999px;

  background:#FFFFFF; /* ✅ white */
  border:1px solid rgba(0,0,0,0.12);
  box-shadow:0 6px 14px rgba(0,0,0,0.08);

  font-weight:800;
  cursor:pointer;
}
.phoneme-chip:hover{ filter: brightness(0.99); }


/* Tabs */
.tab { text-transform: uppercase !important; font-weight: 800; letter-spacing: 0.5px; }

/* Spinner */
.spinner {
  width: 14px;
  height: 14px;
  border: 2px solid currentColor;
  border-top-color: transparent;
  border-radius: 50%;
  display: inline-block;
  vertical-align: -2px;
  margin-right: 8px;
  animation: spin 0.8s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* iOS long-press */
* { -webkit-user-select: none; -webkit-touch-callout: none; user-select: none; }
input, textarea { -webkit-user-select: text; user-select: text; }

/* ======= Bottom tab bar ======= */
.with-bottom-tabs { padding-bottom: calc(64px + env(safe-area-inset-bottom)); }

.tabbar {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;

  height: auto;
  min-height: 64px;
  padding-bottom: env(safe-area-inset-bottom);
  box-sizing: border-box;

  background: var(--tabbar-bg);
  border-top: 1px solid var(--tabbar-border);

  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-auto-rows: 64px;
  align-items: center;
  z-index: 50;
}



.tabbtn {
  height: 100%;
  display: grid;
  place-items: center;
  gap: 0;
  text-decoration: none;
  position: relative;
  color: var(--muted);
  min-width: 0;
}

.tabbtn.active {
  color: var(--primary);
}

/* Force outline-only icons everywhere */
.tabbtn .tabicon {
  fill: none !important;
  stroke: currentColor !important;
}

.tabbtn .tablabel { display: none; }
.tabbtn .tabicon {
  width: 28px;
  height: 28px;
  margin-top: 2px;
  image-rendering: -webkit-optimize-contrast;
  filter: saturate(0.9) brightness(0.95);
}
.tabbtn.active .tabicon { filter: none; }
.tabbtn:active .tabicon { transform: scale(0.94); }

/* === Page spacing === */
.page {
  width: 100%;
  min-height: calc(100vh - 4.5rem);

  /* ⛔️ må IKKE styre horisontal layout */
  padding-left: 0;
  padding-right: 0;

  /* ✅ må gerne styre vertikal spacing */
  padding-top: calc(var(--page-gutter-top) + var(--safe-top));
  padding-bottom: 12px;

  background: var(--bg) !important;
  color: var(--text) !important;

  /* ✅ sikkerhed */
  overflow-x: hidden;
}


/* Settings layout */
.settings-page {
  max-width: 680px;
  width: 100%;
  margin: 0 auto;
  padding: 0 16px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 20px;
}
.settings-page > div { width: 100%; max-width: 600px; }

/* Responsive tweaks */
@media (max-width: 360px) { :root { --page-gutter-x: 14px; } }
@media (min-width: 1024px) { :root { --page-gutter-top: 18px; } }

/* Primary ring focus */
.select-pill{
  background: #FFFFFF;
  border: 1px solid var(--panel-border);
  border-radius: 12px;
  padding: 10px 12px;
  color: var(--panel-text);
}
.select-pill:focus{ outline: none; box-shadow: 0 0 0 4px var(--ring); }

/* Progress bar (if you still use it anywhere) */
.progress{
  height: 8px;
  border-radius: 999px;
  background: rgba(0,0,0,0.06);
  overflow: hidden;
  border: 1px solid var(--panel-border);
}
.progress > span{
  display:block;
  height:100%;
  width:var(--pct,0%);
  background: var(--primary);
  transition: width .35s ease;
}

/* Skeletons */
.skeleton-line {
  border-radius: 8px;
  background: linear-gradient(90deg, rgba(0,0,0,0.05), rgba(0,0,0,0.10), rgba(0,0,0,0.05));
  background-size:200% 100%;
  animation: skeletonMove 1.2s ease-in-out infinite;
}
@keyframes skeletonMove { 0%{background-position:200% 0} 100%{background-position:-200% 0} }

/* =========================================================
   BRAND RINGS (kept, but light-friendly)
   ========================================================= */

/* (A) Textarea ring (Record) */
.brand-field { position: relative; border-radius: 22px; overflow: visible; line-height: 0; }

.brand-textarea{
  width:100%;
  resize:none;
  background: #FFFFFF;
  border: 1px solid var(--panel-border);
  outline: none;
  color: var(--text);
  border-radius: 22px;
  position: relative;
  z-index: 1;
}

.brand-orbit{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  pointer-events:none;
  z-index:2;
  display:block;
  vertical-align:top;
}

.brand-orbit .base,
.brand-orbit .dash{
  shape-rendering:geometricPrecision;
  vector-effect:non-scaling-stroke;
}

.brand-orbit .base{ stroke: rgba(33,150,243,.25); stroke-width:2; fill:none; }

.brand-orbit .dash{
  stroke:#2196f3;
  stroke-width:2;
  stroke-linecap:round;
  fill:none;
  stroke-dasharray: .08 1;
  stroke-dashoffset: 0;
  animation: orbitNorm 2.6s linear infinite;
}

@keyframes orbitNorm{ to { stroke-dashoffset:-1; } }

/* =========================================================
   PHONEME FEEDBACK (PF) – CLEAN + ALIGNED
   ========================================================= */

/* helper */
.pf-nocturne-eb{
  font-family: "Nocturne Serif", Georgia, "Times New Roman", serif;
  font-weight: 800;
  letter-spacing: -0.01em;
}

/* surfaces (optional) */
.pf-surface{
  background:#fff;
  border:1px solid rgba(0,0,0,0.10);
  border-radius:22px;
  box-shadow:0 10px 30px rgba(0,0,0,0.08);
}

/* hero */
.pf-hero-card{
  width: 100%;
  max-width: 560px;
  margin: 0 auto;
  padding: 22px 18px 18px;
  text-align: center;
}


.pf-hero-word{
  font-family: inherit;
  font-weight: 800;
  font-size: 56px;
    font-size: clamp(40px, 9vw, 56px); /* ✅ auto-scaler på små skærme */
  line-height: 1.0;
  margin: 6px 0 22px;
    overflow-wrap: anywhere; /* ✅ så lange ord ikke klippes */
}
/* Hero feedback PNG icon (bad/medium/good/great) */
/* Hero feedback PNG icon (bad / medium / good / great) */
.pf-hero-feedback-icon{
  width: 42px;
  height: 42px;
  display: block;
  object-fit: contain;
  user-select: none;

  /* subtil dybde – INGEN cirkel */
  filter: drop-shadow(0 6px 12px rgba(0,0,0,0.08));
}



/* pills */
.pf-pill{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  height:36px;
  padding:0 12px;
  border-radius:999px;
  background:#fff;
  border:1px solid rgba(0,0,0,0.12);
  color: rgba(17,24,39,0.92);
  box-shadow:0 6px 14px rgba(0,0,0,0.08);
  font-size:14px;
  font-weight:800;
  cursor:pointer;
}
.pf-pill:disabled{ opacity:.55; cursor:not-allowed; }

/* connected segmented group */
.pf-seg{
  display:inline-flex;
  align-items:center;
  border:1px solid rgba(0,0,0,0.12);
  border-radius:999px;
    height:36px;
  overflow:hidden;
  background:#fff;
  box-shadow:0 6px 14px rgba(0,0,0,0.08);
}
.pf-seg-btn{
  height:36px;
  padding:0 12px;
  border:none;
  background:transparent;
  font-size:14px;
  font-weight:800;
  color: rgba(17,24,39,0.92);
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:8px;
}
/* Ryk kun "You"-knappen lidt mod højre */

.pf-seg-btn + .pf-seg-btn{
  border-left:1px solid rgba(0,0,0,0.10);
}
.pf-seg-btn:disabled{ opacity:.55; cursor:not-allowed; }

/* list wrapper */
.pf-list{
  width: 100%;
  max-width: 560px;
  margin: 18px auto 0;
  display:grid;
  gap:12px;
}






/* =========================
   ROW CARD – FIX (stable)
   - title centered
   - ring+chevron top-right
   - tempo+native left, you right (same row)
   ========================= */

.pf-row-card{
  position: relative;
  background:#fff;
  border:1px solid rgba(0,0,0,0.10);
  border-radius:18px;
  box-shadow:0 8px 18px rgba(0,0,0,0.06);
  padding:14px;
}

/* title row */
.pf-row-top{
  position: relative;
  display:flex;
  align-items:center;
  justify-content:center;
  min-height: 46px; /* plads til ring i hjørnet */
}

/* FULL CARD CLICK OVERLAY (behind controls) */
.pf-row-titleBtn{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  border:0;
  background:transparent;
  padding:0;
  cursor:pointer;
  border-radius:18px;
  z-index:1;
}

/* title text */
.pf-row-title{
  font-size:22px;
    line-height:1.1;
  font-weight:900;
  color: rgba(17,24,39,0.92);
  text-align:center;
  width:100%;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
  pointer-events:none;
  position:relative;
  z-index:2;
}

/* controls row: LEFT group + RIGHT You (no padding-right hack, no wrap bugs) */
.pf-row-sub{
  margin-top:10px;
  display:grid;
  grid-template-columns: 1fr auto;
  align-items:center;
  gap:10px;
  position:relative;
  z-index:2; /* above overlay */
}

.pf-row-sub .pf-seg{ justify-self:start; }

/* actions pinned top-right */
.pf-row-actions{
  position:static;     /* vigtig: ikke absolute */
  display:flex;
  align-items:center;
  gap:10px;
}


/* progress ring */
.pf-ring{
  width:38px;
  height:38px;
  position:relative;
  display:grid;
  place-items:center;
  flex: 0 0 38px;
}
.pf-ring svg{
  display: block;
  width: 100% !important;
  height: 100% !important;
}
.pf-ring > span{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;
  font-size:11px;
  font-weight:900;
  line-height:1;
  color: rgba(17,24,39,0.82);
  pointer-events:none;
}

/* chevron */
.pf-chevron{
  width:42px;
  height:42px;
  border:none;
  background:transparent;
  padding:0;
  cursor:pointer;
  color: rgba(17,24,39,0.55);
  display:grid;
  place-items:center;
  border-radius:999px;
  margin-left: 0px;
  transform: translateX(-12px);
}
.pf-chevron:hover{ background: rgba(0,0,0,0.04); }
.pf-chevron:active{ transform: translateX(-12px) scale(0.98); }


/* =========================================================
   PF OVERRIDES (paste at VERY bottom)
   Fixes:
   - Progress ring + chevron NOT in title row
   - Progress ring + chevron pinned bottom-right
   - Native + You sit next to each other (left side)
   ========================================================= */

/* Row card container */
.pf-row-card{
  position: relative !important;
  padding: 14px !important;
  border-radius: 18px !important;
}

/* Title row centered */
.pf-row-top{
  position: relative !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  min-height: 44px !important;
}

/* Full-card click overlay (only for title toggle) */
.pf-row-titleBtn{
  position: absolute !important;
  inset: 0 !important;
  width: 100% !important;
  height: 100% !important;
  border: 0 !important;
  background: transparent !important;
  padding: 0 !important;
  cursor: pointer !important;
  border-radius: 18px !important;
  z-index: 1 !important;
}

.pf-row-title{
  position: relative !important;
  z-index: 2 !important;
  width: 100% !important;
  text-align: center !important;
  font-weight: 900 !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
  white-space: nowrap !important;
  pointer-events: none !important;
}

/* CONTROLS ROW: Native + You right next to each other (NOT spaced to edges) */
.pf-row-sub{
  position: relative !important;
}



.pf-row-right{
  display:flex;
  align-items:center;
  gap:8px;
}

/* Make sure buttons don't stretch weirdly */
.pf-row-sub .pf-seg{ flex: 0 0 auto !important; }
.pf-row-sub .pf-pill{ flex: 0 0 auto !important; }

/* ACTIONS: keep in normal flow (like the good version) */
.pf-row-actions{
  position: static !important;
  display: flex !important;
  align-items: center !important;
  gap: 4px !important;
  margin-right: -33px;
}

/* remove the reserved space hack (was causing cut/shift) */
.pf-row-sub{
  padding-right: 0 !important;
}


.pf-row-card{
  padding-bottom: 20px !important;  /* reserve plads i bunden */
}


/* Hero "shine sweep" – only when pf-hero-shine class is present */
.pf-hero-shine{
  position: relative;
  overflow: hidden;
}

.pf-hero-shine::after{
  content: "";
  position: absolute;
  top: -55%;
  left: -70%;
  width: 45%;
  height: 220%;
  pointer-events: none;

  background: linear-gradient(
    120deg,
    transparent 0%,
    rgba(33,150,243,0.10) 30%,
    rgba(255,255,255,0.65) 50%,
    rgba(33,150,243,0.10) 70%,
    transparent 100%
  );

  transform: rotate(18deg);
  animation: pfShine 900ms ease-out 1;
}

@keyframes pfShine{
  0%   { transform: translateX(-10%) rotate(18deg); opacity: 0; }
  15%  { opacity: 1; }
  100% { transform: translateX(320%) rotate(18deg); opacity: 0; }
}


/* Record header bookmarks (icon-only, mobile friendly) */
.pw-bookmarksBtn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 42px;
  height: 42px;
  border-radius: 16px;
  border: 1px solid rgba(0,0,0,0.12);
  background: #fff;
  box-shadow: 0 10px 24px rgba(0,0,0,0.06);
  color: rgba(17,24,39,0.92);
  text-decoration: none;
}

.pw-bookmarksIcon{
  width: 18px;
  height: 18px;
}

@media (max-width: 520px){
  .pw-bookmarksBtn{
    width: 42px;
    height: 42px;
    border-radius: 16px;
    box-shadow: 0 8px 18px rgba(0,0,0,0.06);
  }
  .pw-bookmarksIcon{
    width: 19px;
    height: 19px;
  }
}





/* === iOS: prevent input focus zoom === */
html {
  -webkit-text-size-adjust: 100%;
}

input, textarea, select {
  font-size: 16px !important;
}




/* ✅ PF embed: must be shrinkable on small screens */
.pf-embed-wrap{
  width: 100%;
  min-width: 0;          /* IMPORTANT: allow shrink */
  padding: 0 16px;       /* so cards never touch edges */
  box-sizing: border-box;
}

.pf-embed-inner{
  width: 100%;
  max-width: 560px;      /* keep your nice centered layout on bigger screens */
  margin: 0 auto;
  min-width: 0;          /* IMPORTANT: allow shrink */
}

/* === PF row: compact on iPhone so everything fits on ONE line === */
@media (max-width: 520px){
  .pf-row-card .pf-pill{
    height: 36px;
    padding: 0 12px;
    font-size: 14px;
  }

  .pf-row-card .pf-seg-btn{
    height: 36px;
    padding: 0 10px;
    font-size: 14px;
  }

  .pf-ring{
    width: 38px;
    height: 38px;
  }
  .pf-ring > span{
    font-size: 11px;
  }

  .pf-chevron{
    width: 36px;
    height: 36px;
  }
}

.pf-row-right > .pf-you-btn{
  transform: translateX(0px);
}

@media (max-width: 520px){
  .pf-embed-wrap{ padding: 0 10px; }  /* prøv 10px */
}

/* Settings volume slider: left = blue, right = white */
.range-blue-white {
  -webkit-appearance: none;
  appearance: none;
  height: 6px;
  border-radius: 999px;
  background: #ffffff; /* fallback track */
}

/* WebKit track */
.range-blue-white::-webkit-slider-runnable-track {
  height: 6px;
  border-radius: 999px;
  background: #ffffff;
}

/* WebKit thumb */
.range-blue-white::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 999px;
  background: #2196F3;
  border: none;
  margin-top: -6px; /* centers thumb on 6px track */
}

/* Firefox track */
.range-blue-white::-moz-range-track {
  height: 6px;
  border-radius: 999px;
  background: #ffffff;
}

/* Firefox filled (left side) */
.range-blue-white::-moz-range-progress {
  height: 6px;
  border-radius: 999px;
  background: #2196F3;
}

/* Firefox thumb */
.range-blue-white::-moz-range-thumb {
  width: 18px;
  height: 18px;
  border-radius: 999px;
  background: #2196F3;
  border: none;
}

/* Settings: range slider (left=blue, right=white) */
input[type="range"].range-blue-white{
  -webkit-appearance: none;
  appearance: none;
  height: 6px;
  border-radius: 999px;
  outline: none;
  background: linear-gradient(
    to right,
    #2196F3 0%,
    #2196F3 var(--pct, 50%),
    #ffffff var(--pct, 50%),
    #ffffff 100%
  );
}

/* WebKit track */
input[type="range"].range-blue-white::-webkit-slider-runnable-track{
  height: 6px;
  border-radius: 999px;
  background: transparent;
}

/* WebKit thumb */
input[type="range"].range-blue-white::-webkit-slider-thumb{
  -webkit-appearance: none;
  appearance: none;
  width: 22px;
  height: 22px;
  border-radius: 999px;
  background: #2196F3;
  border: 0;
  margin-top: -8px; /* center thumb on 6px track */
}

/* Firefox */
input[type="range"].range-blue-white::-moz-range-track{
  height: 6px;
  border-radius: 999px;
  background: #ffffff;
}
input[type="range"].range-blue-white::-moz-range-progress{
  height: 6px;
  border-radius: 999px;
  background: #2196F3;
}
input[type="range"].range-blue-white::-moz-range-thumb{
  width: 22px;
  height: 22px;
  border-radius: 999px;
  background: #2196F3;
  border: 0;
}

/* Tabs: “fill gear teeth” when active (without filling the center hole) */
.tabbtn.active .tabicon {
  fill: #2196F3;            /* fills the gear shape */
  fill-rule: evenodd;       /* keeps the inner hole unfilled */
  stroke: #2196F3;
}
